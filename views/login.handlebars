<div>
  <header>
    <h1 class="text-7xl tracking-widest text-center pt-8">SPOTTER</h1>
  </header>
  <form class="flex justify-center items-center main-container form login-form">
    <div class="w-1/2 shadow-lg form-container p-5 rounded-lg">
      <p class="font-bold text-5xl text-center mt-3">Login to Your Account</p>
      <img
        id="logo"
        src="./assets/images/spot-logo.png"
        alt="spotter logo of a gold stick man raising barbell"
      />
      <div class="mb-3">
        <label>Username</label>
        <br />
        <input
          id="email-login"
          type="text"
          placeholder="Type your username"
          class="pl-3 pt-3 pb-3 mb-3 w-full rounded-lg"
        />
      </div>

      <div>
        <label>Password</label>
        <br />
        <input
          id="password-login"
          type="password"
          placeholder="Type your Password"
          class="pl-3 pt-3 pb-3 mb-3 w-full rounded-lg"
        />
      </div>
      <button
        id="login-btn"
        class="block pt-3 pb-3 pl-6 pr-6 rounded-lg w-full mt-5 font-bold"
        type="submit"
      >
        LOGIN
      </button>
      <a href="/signup" class="mt-6 mb-3 text-center block" id="new-user">New
        Here?</a>
    </div>
  </form>
</div>
<script>
  const form = document.querySelector('.signup-form');
  const emailInput = document.querySelector('#email-login');
  const passwordInput = document.querySelector('#password-login');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
   
    const email = emailInput.value;
    const password = passwordInput.value;

    console.log(email);

    const response = await fetch('/api/users/login', {
        method: 'POST',
        body: JSON.stringify({ email, password }),
        headers: { 'Content-Type': 'application/json' },
    });

    if (response.ok) {
        alert('Login successful!');

        document.location.replace('/');
    } else {
        alert('Error signing up');
    }
});

</script>